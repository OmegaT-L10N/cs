<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book PUBLIC "-//OASIS//DTD DocBook XML V4.5//EN" "../../../docbook-xml-4.5/docbookx.dtd">
<chapter id="chapter.installing.and.running">
  <title>Instalace a provoz programu <application>OmegaT</application></title>

  <section>
    <title id="Windows.users">Uživatelé Windows</title>

    <section>
      <title id="which.package.to.download.windows">Stažení balíčku</title>

      <para>Máte prostředí Java kompatibilní s Java 8 JRE od Oracle?</para>

      <itemizedlist>
        <listitem>
          <para><emphasis role="bold">Ano: </emphasis>stáhněte si <filename>OmegaT_4.n.n_Windows_without_JRE.exe</filename>.</para>
        </listitem>

        <listitem>
          <para><emphasis role="bold">Ne / Nevím:</emphasis> stáhněte si<filename> OmegaT_4.n.n_Windows.exe.</filename></para>

          <para>Tento balík obsahuje prostředí Oracle Java Runtime Environment. Toto JRE nebude kolidovat s jinými implementacemi Java, které již mohou být nainstalovány ve vašem systému.</para>
        </listitem>
      </itemizedlist>
    </section>

    <section id="OmegaT.installation.Windows">
      <title><application>Instalace programu OmegaT</application></title>

      <para>Instalaci <application>OmegaT</application> zahájíte dvojím kliknutím na soubor, který jste si stáhli.</para>

      <para>Na začátku instalace si můžete vybrat jazyk, který bude použit během instalace. V následujícím okně můžete určit, že vybraný jazyk se má použít i v samotné aplikaci OmegaT. Pokud zaznačíte odpovídající zaškrtávající políčko, bude upraven soubor <filename>OmegaT.l4J.ini</filename>, kde bude zadán vybraný jazyk (pro detaily viz další oddíl). Později, po té, co přijmete licenční ujednání, se vás instalační průvodce zeptá, zda chcete vytvořit složku v menu <emphasis>Start</emphasis>, a jestli chcete vytvořit zástupce na ploše a v panelu rychlého spuštění - tyto možnosti můžete přidat i později přetažením souboru <filename>OmegaT.exe</filename> na plochu nebo do nabídky start. Poslední obrazovka vám nabídne zobrazení souboru čtime a souboru se změnami pro verzi instalace.</para>
    </section>

    <section id="running.OmegaT.Windows">
      <title>Spouštění <application>OmegaT</application></title>

      <para>Když je <application>OmegaT</application> nainstalována, můžete kliknout na <filename>OmegaT.jar</filename> a spustit ji přímo, nebo program spustíte přímo z příkazové řádky.</para>

      <para>Nejjednodušším způsobem je ale spouštět program přes <filename>OmegaT.exe</filename>. Možnosti pro startování programu budou v tomto případě načteny ze souboru <filename>OmegaT.l4J.ini</filename>, který se nachází ve stejném adresáři, jako soubor exe, a který můžete upravit, aby tak odpovídal vašemu nastavení. Následující příklad souboru INI rezervuje 1 GB paměti, zadá francouzštinu jako uživatelský jazyk a Kanadu jako zemi:</para>

      <programlisting># OmegaT.exe runtime configuration
# To use a parameter, remove the '#' before the '-'
# Memory
-Xmx1024M
# Language
-Duser.language=FR
# Country
-Duser.country=CA</programlisting>

      <para>Tip: pokud OmegaT pracuje pomalu při použití vzdáleného připojení na plochu (‚Remote Desktop Sessions‘) v systému Widnows, můžete pak použít tuto možnost:</para>

      <programlisting>-Dsun.java2d.noddraw=false</programlisting>
    </section>

    <section>
      <title>Aktualizace OmegaT</title>

      <para><emphasis>Tato informace platí jen pro „tradiční“ verze OmegaT pod Windows. Neplatí to pro verzi Web Start, která je aktualizována automaticky, a taky to neplatí pro verze pro různé platformy, která je instalována pod Windows.</emphasis></para>

      <para>Pokud již máte verzi OmegaT instalovanou na svém PC a chcete ji aktualizovat na novější verzi, máte dvě možnosti:</para>

      <itemizedlist>
        <listitem>
          <para><emphasis role="bold">Instalovat přes existující instalaci.</emphasis> To se dělá tak, že při instalování nové verze jednoduše vyberete stejný adresář pro instalaci jako je ten, kde je umístěna existující instalace. „Stará“ verze OmegaT bude přepsána, ale její nastavení zůstanou zachována. Toto se týká také nastavení učiněná přímo v prostředí OmegaT, jakékoliv změny, které jste provedli v souboru <filename>OmegaT.l4J.ini</filename>, a také ve spouštěcím skriptu (soubor <filename>.bat</filename>), jestli jej vůbec používáte.</para>
        </listitem>
      </itemizedlist>

      <para>Při použití této metody si můžete také stáhnout verzi „Windows bez JRE“, nová instalace bude používat vaše již existující JRE.</para>

      <itemizedlist>
        <listitem>
          <para><emphasis role="bold">Instalace do nového adresáře.</emphasis> Tímto způsobem je možno zachovat obě verze vedle sebe, což se může hodit tehdy, pokud si starou verzi chcete nechat, než se sžijete s tou novou. Tato metoda bude tedy používat předvolby a nastavení, která jste provedli v prostředí OmegaT. Nicméně v tomto případě:</para>

          <itemizedlist>
            <listitem>
              <para>Pokud jste provedli změny ve svém souboru <filename>OmegaT.l4J.ini</filename> anebo používáte soubor .bat, musíte je nakopírovat přes ty staré.</para>
            </listitem>
          </itemizedlist>

          <itemizedlist>
            <listitem>
              <para>Jestliže je stávající instalace OmegaT verze „Windows s JRE“, nová verze musí být také verzí „Windows s JRE“. </para>
            </listitem>
          </itemizedlist>
        </listitem>
      </itemizedlist>
    </section>
  </section>

  <section id="Linux.Intel.users">
    <title>Uživatelé Linuxu (Intel)</title>

    <section id="which.package.to.download.Linux">
      <title>Stažení správného balíčku</title>

      <para>Máte prostředí Java kompatibilní s Java 8 JRE od Oracle?</para>

      <itemizedlist>
        <listitem>
          <para><emphasis role="bold">Ano: </emphasis>stáhněte si <filename>OmegaT_4.n.n_Without_JRE.zip</filename>.</para>
        </listitem>

        <listitem>
          <para><emphasis role="bold">Ne / Nevím:</emphasis> stáhněte si<filename>OmegaT_4.x_Linux.tar.bz2.</filename></para>

          <para>Tento balík obsahuje prostředí Oracle Java Runtime Environment. Toto JRE nebude kolidovat s jinými implementacemi Java, které již mohou být nainstalovány ve vašem systému.</para>
        </listitem>
      </itemizedlist>
    </section>

    <section id="OmegaT.installation.Linux">
      <title><application>Instalace programu OmegaT</application></title>

      <para>Rozbalte stažený soubor. Toto vytvoří adresář <filename>omegat/</filename>, je to pracovní adresář, ve kterém naleznete všechny soubory potřebné k provozu <application>OmegaT</application>. Postup rozbalení souboru <filename>.tar.gz</filename>:</para>

      <programlisting>$ tar xf stazeny_soubor.tar.gz</programlisting>
    </section>

    <section id="adding.OmegaT.to.your.menus.or.panels">
      <title>Přidání <application>OmegaT</application> do vašeho menu (KDE) či panelu (Gnome)</title>

      <section id="KDE.users">
        <title>Uživatelé KDE 4</title>

        <para>Do svého systémového menu můžete přidat aplikaci <application>OmegaT</application> následovně:</para>

        <itemizedlist>
          <listitem>
            <para>Stiskem <emphasis role="bold"> <keysym>Alt+F2</keysym> </emphasis> zobrazíte KRunner. Napište příkaz <emphasis>kmenuedit+enter</emphasis>. Zobrazí se KMenuEditor. V KMenuEditor vyberte <emphasis>Soubor -&gt; Nová položka.</emphasis></para>
          </listitem>

          <listitem>
            <para>Jakmile označíte vhodné menu, přidejte submenu a položku prostřednictvím <emphasis>Soubor - Nové submenu</emphasis> a <emphasis>Soubor – Nová položka</emphasis>. Jako název nové položky vložte <application>OmegaT</application>.</para>
          </listitem>

          <listitem>
            <para>V poli „Command“, použijte navigační tlačítko k nalezení svého spouštěcího skriptu <application>OmegaT</application> (soubor se v nerozbaleném adresáři jmenuje <application>OmegaT</application>) a označte jej.</para>
          </listitem>

          <listitem>
            <para>Klikněte na ikonu (vpravo od Name/Description/Comment fields)</para>
          </listitem>

          <listitem>
            <para>Other Icons – Browse, a přejděte k podadresáři <filename>/images</filename> v adresáři aplikace <application>OmegaT</application>. Vyberte ikonu <filename>OmegaT</filename>.png.</para>
          </listitem>

          <listitem>
            <para>Nakonec uložte změny <emphasis>Soubor – Uložit</emphasis>.</para>
          </listitem>
        </itemizedlist>
      </section>

      <section id="GNOME.users">
        <title>Uživatelé Gnome</title>

        <para>Do svého systémového menu můžete přidat aplikaci <application>OmegaT</application> následovně:</para>

        <itemizedlist>
          <listitem>
            <para>Klikněte pravým tlačítkem myši na panel: <emphasis>Přidat nový špouštěč... </emphasis></para>
          </listitem>

          <listitem>
            <para>Vložte „<application>OmegaT</application>“ do pole „Název“; v poli „Příkaz“ použijte navigační tlačítko k nalezení svého <application>OmegaT</application> spouštěcího skriptu (soubor se v rozbaleném adresáři jmenuje <application>OmegaT</application>). Označte jej a operaci potvrďte OK.</para>
          </listitem>

          <listitem>
            <para>Klikněte na tlačítko ikony, pak <guibutton>Procházet...</guibutton> a přejděte k podadresáři <filename>/images</filename> v adresáři aplikace <application>OmegaT</application>. Vyberte ikonu <filename>OmegaT</filename>.png. V GNOME může selhat zobrazení souborů ikon v dostupném formátu, protože očekává soubor SVG, ale jakmile je vybrán adresář, soubory by se měly zobrazit a můžete vybrat <filename>OmegaT.png</filename>.</para>
          </listitem>
        </itemizedlist>
      </section>
    </section>

    <section id="running.OmegaT.Linux">
      <title>Spouštění <application>OmegaT</application></title>

      <para>OmegaT můžete spouštět z příkazového řádku přes skript, který obsahuje startovací možnosti nebo pro přímý start klikněte na <filename>OmegaT.jar</filename>. Metody se liší v závislosti na distribuci. Ujistěte se, že vaše nastavení <varname>PATH</varname> (tedy nastavení cesty) jsou správná a že soubory <filename>.jar</filename> jsou řádně asociovány s Javou. Pro více informací čtěte dále v části „Spouštění z příkazové řádky“.</para>
    </section>
  </section>

  <section id="MAC.OSX.users">
    <title>Uživatelé macOS</title>

    <section id="which.package.to.download.OSX">
      <title>Stažení balíčku</title>

      <para><application>OmegaT</application> obsahuje Java JRE 1.8</para>

      <para>Stáhněte si <filename>OmegaT_4.n.n_Mac.zip.</filename></para>
    </section>

    <section id="OmegaT.installation.OSX">
      <title>Instalace programu <application>OmegaT</application></title>

      <para>Soubor rozbalíte dvojklikem na <filename>OmegaT_4.n.n_Mac.zip</filename>. Tak vytvoříte adresář nazvaný <filename>OmegaT</filename>. Tento adresář obsahuje 2 soubory: <filename>index.html</filename> a <filename>OmegaT.app</filename>. Zkopírujte jej na vhodné umístění (např. Aplikace). Jakmile je to provedeno, můžete soubor <filename>OmegaT_4.n.n_Mac.zip</filename>  smazat, už jej dál nepotřebujete.</para>
    </section>

    <section id="adding.OmegaT.to.the.dock">
      <title>Přidání <application>OmegaT</application> na panel Dock</title>

      <para>Přetáhněte <filename>OmegaT.app</filename> na Dock.</para>
    </section>

    <section id="running.OmegaT.OSX">
      <title>Spouštění <application>OmegaT</application></title>

      <para>Klikněte dvakrát na <filename>&gt;OmegaT.app</filename> nebo klikněte na ikonu na Docku.</para>

      <para>Můžete změnit chování OmegaT upravením <emphasis>Vlastnosti</emphasis>, ale také souboru v balíčku <filename>Configuration.properties</filename>.</para>

      <para>Pro přístup s souboru <filename>Configuration.properties</filename> klikněte pravým tlačítkem myši na soubor <filename>OmegaT.app</filename> a vyberte „Ukázat obsah balíčku“, pak poklikem pravým tlačítkem v <filename>Contents/Resources</filename> soubor otevřete a vyberete editor textu dle svého výběru. Můžete k souboru přistupovat přímo přes <command>příkazový řádek</command> a otevřít <filename>&gt;Configuration.properties</filename> v editoru příkazového řádku jako je emacs nebo vi.</para>

      <para>Možnosti lze upravovat změnou <filename>Configuration.properties</filename>. U předdefinovaných možností stačí odstranit znak <literal>#</literal> před parametrem, a tak jej povolit. Například <literal>user.language=ja</literal> (bez <literal>#</literal>) spustí <application>OmegaT</application> s uživatelským prostředím v japonštině. </para>

      <para>Pokud chcete změnit množství dostupné paměti, upravte soubor <filename>OmegaT.app/Contents/MacOS/OmegaT</filename> a odstraňte znak <literal>#</literal> před záznamem <literal>MEMORY=-Xmx<parameter>?</parameter>g</literal> Například, <literal>MEMORY=-Xmx6g</literal> spustí OmegaT s 6GB paměti.</para>

      <para>Více oken pro <filename>OmegaT.app</filename> spustíte dvojklikem na soubor <emphasis>OmegaT</emphasis> umístěný v <filename>OmegaT.app/ Contents/MacOS/</filename>.</para>

      <para>Soubor <filename>OmegaT.jar</filename>, který je umístěný v <filename>OmegaT.app/Contents/MacOS/Java/</filename>&gt; použijte ke spuštění <application>OmegaT</application> z příkazového řádku. Pro více informací čtěte dále v části „Spouštění z příkazové řádky“.</para>
    </section>

    <section id="Mac.OSX.goodies">
      <title>goodies macOS</title>

      <para><filename>OmegaT.ap</filename> zpřístupní služby macOS Můžete tedy označit slovo kdekoliv v <application>OmegaT</application> a použít ‚Services‛ pro hledání tohoto slova, například ve Spotlight nebo Google. Můžete také použít AppleScript nebo Automator k vytvoření Služby (‚Services‛) nebo skriptu, které zautomatizují často používané činnosti.</para>
    </section>
  </section>

  <section id="other.systems">
    <title>Ostatní systémy</title>

    <para>Tyto informace se vztahují na systémy jako je Solaris SPARC/x86/x64, Linux x64/PowerPC, Windows x64</para>

    <section>
      <title id="which.package.to.download.other">Stažení správného balíčku</title>

      <para><application>OmegaT</application> je dostupná ve spojení s Oracle Java JRE pro Linux (Intel x86) a platformy Windows. Aby bylo možno <application>OmegaT</application> používat u jiných platforem (Linux PowerPC, Linux x64, Solaris SPARC/x86/x64, Windows x64 atd.) musí uživatelé na svém systému mít a provozovat kompatibilní prostředí Java JRE.</para>

      <para>Máte prostředí Java kompatibilní s Java 8 JRE od Oracle?</para>

      <itemizedlist>
        <listitem>
          <para><emphasis role="bold">Ano: </emphasis>stáhněte si <filename>OmegaT_4.n.n_Windows_without_JRE.zip</filename>. Tento balík může být použit na platformě, kde je instalováno JRE kompatibilní s Java 8 JRE.</para>
        </listitem>

        <listitem>
          <para><emphasis role="bold">Nevím:</emphasis> otevřete terminál a napište <command>java -version</command>. Pokud se vám zobrazí hlášení „command not found“ („příkaz nenalezen“) nebo podobně, pravděpodobně na vašem systému Java není instalována.</para>
        </listitem>

        <listitem>
          <para><emphasis role="bold">Ne:</emphasis> doplňte si prostředí Java JRE pro svůj systém (vizte níže) a stáhněte <filename>OmegaT_4.n.n_Without_JRE.zip</filename>.</para>

          <para>Zde poskytkuje Oracle své JRE pro systémy Solaris SPARC/x86 (Java 8) a pro Linux x64, Solaris x64, Windows x64 (Java 8)<ulink url="http://www.oracle.com/technetwork/java/archive-139210.html"/>.</para>

          <para>Zde poskytuje IBM své JRE pro Linux PowerPC <ulink url="http://www.ibm.com/developerworks/java/jdk/linux/download.html"/>.</para>

          <para>Použijte instalační instrukce balíku vhodného pro váš systém.</para>
        </listitem>
      </itemizedlist>
    </section>

    <section id="OmegaT.installation.other">
      <title>Instalace programu <application>OmegaT</application></title>

      <para>Pro instalaci <application>OmegaT</application> stačí rozbalit soubor <filename>OmegaT_4.n.n_Without_JRE.zip</filename>. Toto vytvoří adresář <filename>./OmegaT_4.n.n_Without_JRE/</filename> ve zvoleném pracovním adresáři se vším potřebným pro běh <application>OmegaT</application>.</para>
    </section>

    <section id="installing.convenient.shortcuts">
      <title>Instalace zástupců pro spuštění</title>

      <para>Postupujte podle instrukcí svého systému pro instalaci zástupců <application>OmegaT</application> na příhodném místě vaší volby.</para>
    </section>

    <section id="running.OmegaT.other">
      <title>Spouštění <application>OmegaT</application></title>

      <para>Jakmile je <application>OmegaT</application> nainstalována, můžete ji spouštět přímo z příkazového řádku, můžete vytvořit skript, který zahrnuje spouštěcí parametry pro příkazový řádek nebo můžete program spouštět přímo kliknutím na <filename>OmegaT.jar</filename>. Metody se liší v závislosti na distribuci. Ujistěte se, že vaše nastavení <varname>PATH</varname> (tedy nastavení cesty) jsou správná a že soubory <filename>.jar</filename> jsou řádně asociovány s Javou. Pro více informací čtěte dále v části „Spouštění z příkazové řádky“.</para>
    </section>
  </section>

  <section id="drag.and.drop">
    <title>Přetáhnout</title>

    <para>Ve většině systémů je možné otevřít projekt jeho přetažením souboru <filename>omegat.project</filename> na ikonu OmegaT na ploše. Je také možné otevřít projekt OmegaT dvojím kliknutím na soubor <filename>omega.project</filename>.</para>
  </section>

  <section id="using.Java.Web.Start">
    <title>Použití Java Web Start</title>

    <para>Technologie Java Web Start (součást verze Java 8 a vyšší), může být použita pro začlenění samostatné softwarové aplikace Javy spustitelné prostým kliknutím přes síť. Přes Java Web Start je zajištěn jak přístup k aktuální verzi aplikace, tak i ke správné verzi prostředí Java Runtime Environment (JRE). Pro první spuštění aplikace OmegaT prostřednictvím Java Web Start si zadejte a načtěte ve vašem prohlížeči následující URL:</para>

    <para><ulink url="https://omegat.sourceforge.io/webstart/OmegaT.jnlp"/></para>

    <para>Stáhněte si soubor<filename>OmegaT.jnlp</filename> a klikněte na něj. V závislosti na operačním systému se může během instalace objevit několik bezpečnostních výstrah. Práva, která udělíte této verzi (která lze nazývat jako „neomezený přístup k počítači“) jsou identická s právy, která jste přidělili místní verzi, tato práva povolí přístup na pevný disk počítače. Další kliknutí na soubor <filename>OmegaT.jnlp</filename> zkontroluje, jestli jsou k dispozici aktualizace, a pokud ano, nainstaluje je a posléze program <application>OmegaT</application> spustí. Po první instalaci můžete samozřejmě soubor <filename>OmegaT.jnlp</filename> spouštět i v režimu offline.</para>

    <para><emphasis role="bold">Poznámka</emphasis>: <application>OmegaT</application> Java Web Start neukládá žádné informace mimo počítač, na kterém je spuštěna. Aplikace běží pouze na vašem přístroji. Vaše dokumenty a překladové paměti zůstávají na vašem počítači a projekt <application>OmegaT</application> nemá žádný přístup k vaší práci nebo informacím. </para>

    <para>Mějte na paměti, že pokud potřebujete nějaké parametry ke spouštěcímu příkazu (vizte výše), musíte používat běžnou instalaci.</para>
  </section>

  <section>
    <title>Spouštění z příkazového řádku</title>

    <para>Za normálních okolností není nutné spouštět <application>OmegaT</application> z příkazového řádku. Nicméně alternativa příkazového řádku umožňuje uživateli ovládat a upravovat chování programu. K dispozici máme dva způsoby spuštění <application>OmegaT</application> přes příkazovou řádku.</para>

    <section id="method1.opening.commandline.window">
      <title>Otevření okna s příkazovým řádkem</title>

      <para>Okno s příkazovým řádkem se může též nazývat „terminálové okno“. Pod Windows se nazývá „okno MS-DOS“ a je dostupné z nabídky Start, mezi Programy, přes položku „MS-DOS“ (nebo Start &gt; Spustit &gt; napište „cmd“ + Enter). Obdobu u macOS představuje aplikace Terminál, která je umístěná v <filename>Aplikace/Nástroje</filename>.</para>

      <para>Pro spuštění <application>OmegaT</application> se za normálních okolností zadají dva příkazy. První z nich je:</para>

      <programlisting>cd <parameter>folder</parameter></programlisting>

      <para>kde <parameter>folder</parameter> představuje jméno adresáře s kompletní cestou k umístění, kde se nachází Váš program <application>OmegaT</application> - obzvláště soubor <filename>OmegaT.jar</filename>. V praxi to vypadá tak, že příkaz bude vypadat asi takto:</para>

      <para>Pod Windows:</para>

      <programlisting>cd C:\Program Files\OmegaT</programlisting>

      <para>Na macOS</para>

      <programlisting>cd <parameter>&lt;OmegaT.app location&gt;</parameter>/OmegaT.app/Contents/Resources/Java/</programlisting>

      <para>V Linuxu</para>

      <programlisting>cd /usr/local/omegat</programlisting>

      <para>Příkaz změní adresář na adresář obsahující spouštěcí soubor <application>OmegaT</application>. Druhý příkaz je příkaz, který skutečně spustí aplikaci <application>OmegaT</application>. Ve své základní podobě příkaz vypadá takto:</para>

      <programlisting>java -jar OmegaT.jar</programlisting>

      <para>Věnujte pozornost psaní velkých a malých písmen – různé systémy, narozdíl od Windows nebude program spuštěn, pokud zadáte <literal>omegat</literal> místo <literal>OmegaT</literal>!</para>

      <para>Tato metoda může konkrétně pomoci při nalezení příčiny problému: pokud se objeví chyba během práce s programem, bude v příkazovém řádku vypsáno chybové hlášení, které může obsahovat užitečné informace o příčině chyby.</para>

      <para>Uvedená metoda představuje poněkud nepraktický způsob běžného spouštění programu. Z toho důvodu jsou oba nahoře popsané příkazy obsaženy v jednom souboru („skript“, taky nazýváno soubor „<filename>.bat</filename>“ u systému Windows).</para>

      <para>Když je tento soubor spuštěn, tak jsou automaticky provedeny obsažené příkazy. Z toho plyne, že pro změnu těchto příkazů stačí upravit tento soubor.</para>
    </section>

    <section id="launch.command.arguments">
      <title>Parametry spouštěcího příkazu</title>

      <para>Základní příkaz byl již popsán výše. Změny v tomto příkazu zahrnují doplnění „parametrů“. Jednotlivé parametry se přidávají za počáteční <command>„java“</command> a před část  <literal>-jar OmegaT.jar</literal>. Povšimněte si, že ve Windows budete měnit soubor <filename>OmegaT.l4J.ini</filename> a tak definovat své priority. Na jiných platformách můžete pro stejnou akci změnit spouštěč <filename>Configuration.properties</filename> na Macu, <filename>OmegaT</filename> pod Linuxem.</para>

      <para>Seznam možných parametrů je uveden níže. Pokročilí uživatelé získají více informací o parametrech zadáním příkazu <emphasis>man java</emphasis> do okna terminálu.</para>

      <itemizedlist>
        <listitem>
          <para><emphasis role="bold">Jazyk uživatelského rozhraní</emphasis></para>

          <para><emphasis role="bold"><literal>-Duser.language=<parameter>XX</parameter></literal></emphasis> Běžně, tj. když se <application>OmegaT</application>&gt; spouští bez jakýchkoliv parametrů, program první detekuje jazyk uživatelova operačního systému. Pokud je uživatelské prostředí v tomto jazyce k dispozici, tak ho <application>OmegaT</application> použije. To znamená, že když je uživatelův operační systém v ruštině a <application>OmegaT</application> byla lokalizována do ruštiny, bude <application>OmegaT</application> zobrazena s ruským uživatelským prostředím, ruskými nabídkami, atd. Pokud jazyk uživatelova systému není k dispozici, <application>OmegaT</application> použije jako výchozí jazyk angličtinu. Toto je tedy standardní chování programu.</para>

          <para>Parametr <literal>„-Duser.language=<parameter>XX“</parameter></literal> způsobí, že <application>OmegaT</application> použije definovaný jazyk, a ne jazyk uživatelova operačního systému. Zástupné označení <parameter>XX</parameter> v příkazu znamená dvouznakový kód požadovaného jazyka. Pro spuštění <application>OmegaT</application> s francouzským prostředím (např. v ruském operačním systému) bude příkaz vypadat takto:</para>

          <programlisting>java -Duser.language=fr -jar OmegaT.jar</programlisting>
        </listitem>
      </itemizedlist>

      <itemizedlist>
        <listitem>
          <para><emphasis role="bold">Země uživatele</emphasis></para>

          <para><emphasis role="bold">-Duser.country=<parameter>XX</parameter></emphasis> Vedle jazyka můžete specifikovat i zemi, např. <literal>CN</literal> nebo <literal>TW</literal> v případě čínštiny. Abyste zobrazili Stručného úvodního průvodce ve správném jazyce, je nutno specifikovat jak jazyk, tak i zemi. Toto je důležité dokonce i tehdy, když je k dispozici jen jedna varianta, např. <literal>pt_BR</literal> v případě portugalštiny v Brazílii.</para>
        </listitem>
      </itemizedlist>

      <itemizedlist>
        <listitem>
          <para><emphasis role="bold">Přiřazení množství paměti</emphasis></para>

          <para><emphasis role="bold"><literal>-XmxZZM<parameter>??</parameter>M</literal></emphasis> Tento příkaz přiřadí více paměti programu <application>OmegaT</application>. Výchozí nastavení je přiřazeno 1024 MB, takže asi bude nevýhodné nastavovat menší hodnotu. Zástupné znaky <parameter>??</parameter> reprezentují část paměti zadávanou v megabytech. Příkaz pro spouštění <application>OmegaT</application> s nastavením 2048 MB (2 GB) paměti je tedy:</para>

          <programlisting>java -Xmx2048M -jar OmegaT.jar</programlisting>
        </listitem>

        <listitem>
          <para><emphasis role="bold">Adresa hostitelského IP Proxy</emphasis></para>

          <para><emphasis role="bold"><literal>-Dhttp.proxyHost=<parameter>nnn.nnn.nnn.nnn</parameter></literal> </emphasis> Adresa IP vašeho proxy serveru, pokud váš systém používá proxy.</para>
        </listitem>

        <listitem>
          <para><emphasis role="bold">Číslo hostitelského portu Proxy</emphasis></para>

          <para><emphasis role="bold"><literal>-Dhttp.proxyPort=<parameter>NNNN</parameter></literal></emphasis> Číslo portu, který váš systém používá pro přístup k proxy serveru.</para>
        </listitem>

        <listitem>
          <para><emphasis role="bold">Google Překladač V2</emphasis></para>

          <para><emphasis role="bold"><literal>-Dgoogle.api.key=<parameter>A123456789B123456789C123456789D12345678</parameter></literal> </emphasis> Pokud jste se zaregistrovali do služeb Google Překladač, pak sem zadejte svůj Google API klíč. Berte na vědomí, že tento klíč má 38 znaků.</para>
        </listitem>

        <listitem>
          <para><emphasis role="bold">Překladač Microsoft Translator</emphasis></para>

          <para>Ujistěte se, že máte bezplatný účet u Microsoftu. Budete jej totiž potřebovat pro přihlášení do obchodu <ulink url="http://datamarket.azure.com/dataset/bing/microsofttranslator#schema">Windows Azure Marketplace</ulink> a k používání služeb překladače Translator. Za objem do 2 milionů znaků měsíčně nemusíte platit. Požadované dva záznamy získáte na <ulink url="https://datamarket.azure.com/account">stránce svého účtu</ulink> a jedná se o primární klíč účtu (Primary account key) a identifikaci klienta (Customer-ID):</para>

          <programlisting>-Dmicrosoft.api.client_id=<parameter>XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX</parameter></programlisting>

          <programlisting>-Dmicrosoft.api.client_secret=<parameter>XXXX9xXxX9xXXxxXXX9xxX99xXXXX9xx9XXxXxXXXXX=</parameter></programlisting>
        </listitem>

        <listitem>
          <para><emphasis role="bold">Překladač Yandex Translate</emphasis></para>

          <para>Ujistěte se, že máte svůj účet zdarma na Yandex. Budete jej potřebovat pro získání a používání překladového klíče Yandex Translate API key. O API klíče můžete zažádat prostřednictvím žádacího formuláře <ulink url="http://api.yandex.com/key/form.xml?service=trnsl">API key request form</ulink>, a zobrazit je na stránce ‚Mé klíče / <ulink url="http://api.yandex.com/key/keyslist.xml">My Keys</ulink>‘</para>

          <programlisting>-Dyandex.api.key=<parameter>trnsl.1.1.XXXXXXXXXXXXXXXX.XXXXXXXXXXXXXXXX.XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX</parameter></programlisting>
        </listitem>
      </itemizedlist>

      <para>Parametry lze kombinovat: pro spuštění aplikace <application>OmegaT</application> se všemi výše uvedenými příklady bude příkaz vypadat následovně:</para>

      <programlisting>java -Dswing.aatext=true -Duser.language=pt -Duser.country=BR -Xmx2048M -Dhttp.proxyHost=192.168.1.1 -Dhttp.proxyport=3128 -jar -OmegaT.jar</programlisting>
    </section>

    <section id="omegat.command.arguments">
      <title>OmegaT v režimu příkazového řádku</title>

      <para>Důvod proč využívat příkazový řádek (konzoli) je použití aplikace OmegaT jako překladatelský nástroj ve skriptovacím prostředí. Když aplikaci spustíte v příkazovém řádku, nenahraje se žádné grafické prostředí (je možné pracovat v jakémkoliv typu příkazovém řádku) a daný projekt je přeložen automaticky dle zadaných parametrů.</para>

      <section id="console.mode.prerequisites">
        <title>Co budeme potřebovat</title>

        <para>Aby šlo spustit <application>OmegaT</application> v režimu příkazového řádku, je nutné, aby existoval platný <application>OmegaT</application> projekt. Umístění není důležité, protože se tento údaj stejně musí zadat v příkazovém řádku při startu.</para>

        <para>Pokud budete chtít změnit nastavení, musíte mít konfigurační soubory. Toho lze dosáhnout dvěma způsoby:</para>

        <itemizedlist>
          <listitem>
            <para>Spusťte aplikaci <application>OmegaT</application> běžným způsobem (přes grafické uživatelské prostředí / GUI) a zvolte vhodné nastavení. Když <application>OmegaT</application> běží v režimu příkazového řádku, tak bude použito stejné nastavení.</para>
          </listitem>

          <listitem>
            <para>Když nejde <application>OmegaT</application> spustit běžným způsobem (není dostupné žádné grafické prostředí): zkopírujte do patřičného adresáře soubory nastavení z jiné instalace aplikace <application>OmegaT</application> na jiném počítači. Umístění není důležité, protože se tento údaj může zadat v příkazovém řádku při startu. Důležité soubory jsou <filename>filters.conf</filename> a <filename>segmentation.conf</filename> a můžete je najít v adresáři home daného uživatele (např. <filename>C:\Dokumenty a nastavení\<parameter>%Uživatel%</parameter>\OmegaT</filename> ve Windows, <filename>~/.omegat/</filename> v Linuxu)</para>
          </listitem>
        </itemizedlist>
      </section>

      <section id="starting.in.console.mode">
        <title>Spouštění aplikace v režimu příkazového řádku</title>

        <para>Pro spuštění aplikace <application>OmegaT</application> v režimu příkazového řádku musíte při startu nastavit pár parametrů navíc. Nejdůležitější z nich je <literal>/path/to/project</literal>, a volitelně <literal>--config-dir=<parameter>/path/to/config-files/</parameter></literal>. Příklad:</para>

        <programlisting>java -jar OmegaT.jar <parameter>/cesta/k/projektu</parameter> \
    --config-dir=<parameter>/cesta/ke/konfiguracnim-souborum/</parameter> \
    --config-file=<parameter>/cesta/k/konfiguracnimu-souboru/</parameter> \
    --mode=<parameter>console-translate|console-createpseudotranslatetmx|console-align</parameter> \
    --source-pattern=<parameter>regulární výraz</parameter></programlisting>

        <para>Všimněte si, že všechny parametry začínají dvojitým znakem <literal>pomlčky</literal>.</para>

        <para><emphasis role="bold">Vysvětlení:</emphasis></para>

        <itemizedlist>
          <listitem>
            <para><literal>/path/to/project</literal> prozradí aplikaci <application>OmegaT</application>, kde najít projekt, který má být překládán. Pokud je to tedy zadáno, <application>OmegaT</application> startuje v režimu příkazového řádku a přeloží zadaný projekt.</para>
          </listitem>
        </itemizedlist>

        <itemizedlist>
          <listitem>
            <para><literal>--config-dir=<parameter>/path/to/config-files/</parameter></literal> prozradí <application>OmegaT</application>, ve kterém adresáři jsou uloženy konfigurační soubory. Když není zadáno, <application>OmegaT</application> se vrátí k výchozím hodnotám (adresář <application>OmegaT</application> v domovské složce  uživatele, nebo když není dostupné, pak adresář, ve kterém se právě pracuje). Všimněte si dvojitého znaku <literal>pomlčky</literal>.</para>
          </listitem>

          <listitem>
            <para><literal>--config-file=<parameter>/path/to/config-file/</parameter></literal>&gt; prozradí aplikaci <application>OmegaT</application>  který konfigurační soubor se má použít</para>
          </listitem>
        </itemizedlist>

        <itemizedlist>
          <listitem>
            <para>
<emphasis><literal>--mode=<parameter>...</parameter></literal></emphasis> <application>OmegaT</application> startuje v režimu příkazového řádku a vykoná tak jednu z následujících služeb automaticky</para>

            <itemizedlist>
              <listitem>
                <para><emphasis><literal>--mode=console-translate</literal></emphasis></para>

                <para>V tomto režimu se OmegaT pokusí přeložit soubory z adresáře <filename>/source/</filename> za pomoci dostupných překladových pamětí. Toto je užitečné při spouštění OmegaT na serveru, kdy jsou soubory TMX automaticky přidány do projektu.</para>
              </listitem>

              <listitem>
                <para><literal>--mode=console-createpseudotranslatetmx</literal></para>

                <para>V tomto režimu vytvoří OmegaT soubory překladové paměti pro celý projekt, zakládající se pouze na zdrojových souborech. Sami si určíte soubor překladové paměti (TMX), který má být vytvořen</para>

                <para><literal>--pseudotranslatetmx=<parameter>allsegments.tmx</parameter>
                --pseudotranslatetype=<parameter>equal|empty</parameter></literal></para>

                <para>Parametr <emphasis>pseudotranslatetype</emphasis> určuje, zda se mají cílové segmenty rovnat zdroji, nebo jestli mají zůstat prázdné.</para>
              </listitem>

              <listitem>
                <para><literal>--mode=console-align</literal></para>

                <para>V tomto režimu, vezme OmegaT soubory Java properties, které nalezne v adresáři <filename>/source/</filename> a páruje je s obsahy nalezenými na zadaném umístění. Výsledná tmx je uložena v adresáři <filename>omegat</filename> s názvem <filename>align.tmx</filename>.</para>

                <para>V takovém případě je nutno zadat dodatečné parametry určující umístění cílových dat:</para>

                <para><literal>--alignDir=<parameter>&lt;umistění přeložených souborů&gt;</parameter></literal></para>

                <para><filename>alignDir</filename> musí obsahovat překlad v cílovém jazyce projektu. Např. pokud se jedná o projekt EN-&gt;FR, adresář <filename>alignDir</filename> musí obsahovat balíček ‚bundle‛ končící na <literal>_fr</literal>. Výsledná paměť tmx je uložena v adresáři <filename>omegat</filename> s názvem <filename>align.tmx</filename>.</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para><literal>--source-pattern=<parameter>regulární výraz</parameter></literal></para>

            <para>Při použití tohoto režimu, tato možnost blíže určí, které soubory mají být automaticky zpracovány. Pokud tento parametr není blíže určen, budou zpracovány všechny soubory. Tady je pár typických příkladů jak vymezit výběr:</para>

            <itemizedlist>
              <listitem>
                <para><literal>.*\.html</literal></para>

                <para>Přeloženy budou všechny soubory HTML – povšimněte si, že tečka v běžném výrazu <literal>*.html</literal> se musí maskovat (<literal>\.</literal>) jak je tomu určeno pravidly regulárních výrazů.</para>
              </listitem>

              <listitem>
                <para><literal>test\.html</literal></para>

                <para>Přeložen bude jen soubor test.html, který se nachází na hlavní úrovni zdrojového adresáře. Pokud jsou v jiných adresářich jsou jiné soubory s názvem test.html, pak tyto budou ignorovány. </para>
              </listitem>

              <listitem>
                <para><literal>dir-10\\test\.html</literal></para>

                <para>Zpracovávat se bude pouze soubor <filename>test.html</filename> v adresáři <filename>dir-10</filename>. Opět si povšimněte zpětného lomítka, které musí být také maskováno jiným zpětným lomítkem.</para>
              </listitem>
            </itemizedlist>
          </listitem>

          <listitem>
            <para><literal>--tag-validation=<parameter>[abort|warn]</parameter></literal> <parameter>NazevSouboruProVystup</parameter></para>

            <para>Tato možnost dovoluje zpracovat ověření tagů po dávkách. Pokud je zvolena možnost ‚<literal>abort</literal>‛ (‚přerušit‛), ověřování tagů bude zastaveno při prvním neplatným segmentem. Když je ale zadáno ‚<literal>warn</literal>‛ (‚varovat‛), ověřování tagů zpracuje všechny segmenty a až nakonec vypíše do zadaného souboru upozornění na segmenty, které obsahují neplatné tagy.</para>
          </listitem>
        </itemizedlist>

        <itemizedlist>
          <listitem>
            <para><literal>--no-team</literal> - ovlivní nastavení projektu v rámci týmové spolupráce. Použijete jej tehdy, když OmegaT nemá synchronizovat obsah projektu.</para>
          </listitem>
        </itemizedlist>

        <itemizedlist>
          <listitem>
            <para><literal>--disable-project-locking</literal> umožňuje, pod Windows, otevřít stejný projekt v několika oknech OmegaT. Ve výchozím nastavení, pod Windows, je <filename>omegat.project</filename> zablokováno a zobrazuje se chybové hlášení pokud se pokoušíte otevřít již otevřený projekt v jiném okně OmegaT. S touto možností se tedy zablokování neprojeví.</para>
          </listitem>
        </itemizedlist>
      </section>

      <section id="console.mode.option.quiet">
        <title>Možnost Quiet (‚Tichý chod‛)</title>

        <para>Dodatečný parametr příkazového řádku režimu příkazového řádku: <literal>--quiet.</literal>. V „quiet“ („tichém“) režimu se na obrazovce zobrazuje méně informací. Hlášení, která byste obvykle nalezli ve stavové liště se nebudou zobrazovat.</para>

        <para>Příklad použití: <literal>java -jar OmegaT.jar /path/to/project --mode=console-translate --quiet</literal></para>
      </section>
    </section>
  </section>

  <section id="building.OmegaT.from.source">
    <title>Sestavení <application>OmegaT</application> ze zdrojového kódu</title>

    <para>Zdroje pro aktuální verzi lze získat s klientem SVN z repozitáře <ulink url="svn://svn.code.sf.net/p/omegat/svn/trunk"/> nebo přímo na adrese <ulink url="https://sourceforge.net/p/omegat/svn/HEAD/tarball?path=/trunk">SourceForge</ulink>.</para>

    <para>Jakmile je kód stažen, otevřete jej ve zdrojovém adresáři a napište:</para>

    <programlisting>gradlew assembleDist</programlisting>

    <para>Tímto vytvoříte kompletní distribuci programu OmegaT v adresáři <filename>./build/distributions</filename>, ve kterém naleznete zazipované všechny soubory potřebné k provozu <application>OmegaT</application>.</para>

    <para>Také můžete aplikaci spouštět přímo pomocí následujícího příkazu:</para>

    <programlisting>gradlew run</programlisting>

    <para>Detailní instrukce k sestavení verze jsou v souboru docs_devel <ulink url="https://sourceforge.net/p/omegat/svn/HEAD/tree/trunk/docs_devel/README.txt">readme</ulink>.</para>
  </section>
</chapter>